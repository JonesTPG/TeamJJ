{"ast":null,"code":"import _classCallCheck from \"/home/joonas/LUT/programming/CodeCamp/TeamJJ/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/joonas/LUT/programming/CodeCamp/TeamJJ/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/joonas/LUT/programming/CodeCamp/TeamJJ/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/joonas/LUT/programming/CodeCamp/TeamJJ/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/joonas/LUT/programming/CodeCamp/TeamJJ/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/joonas/LUT/programming/CodeCamp/TeamJJ/src/components/newcomment.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport TextField from \"@material-ui/core/TextField\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport \"../App.css\";\nimport { Link } from \"react-router-dom\";\n\nvar styles = function styles(theme) {\n  return {\n    button: {\n      margin: 2,\n      color: \"#2196f3\"\n    },\n    buttonCancel: {\n      margin: 2,\n      color: \"inherit\"\n    },\n    a: {\n      color: \"inherit\"\n    }\n  };\n};\n\nvar NewComment =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewComment, _Component);\n\n  function NewComment(props) {\n    var _this;\n\n    _classCallCheck(this, NewComment);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewComment).call(this, props));\n\n    _this.handleChange = function (e) {\n      _this.setState({\n        text: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      //prevent the page from reloading\n      e.preventDefault(); //check that the comment has some text and then send it to the server.\n\n      if (_this.state.text === null || _this.state.text.length < 5) {\n        _this.setState({\n          message: \"Kommenttisi on liian lyhyt.\"\n        });\n\n        _this.props.updateFunction();\n      } else {\n        //construct a json object which will be sent to the server\n        var data = {\n          text: _this.state.text,\n          courseId: _this.props.courseId\n        };\n        axios.post(\"/api/comments/\" + _this.props.courseId, data).then(function (response) {\n          _this.setState({\n            message: \"Kommentti tallennettu.\",\n            text: \"\"\n          });\n        });\n\n        _this.props.updateFunction();\n      }\n    };\n\n    _this.state = {\n      text: \"\",\n      message: null,\n      multiline: \"Controlled\"\n    };\n    return _this;\n  } //update state with the current comment text\n\n\n  _createClass(NewComment, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"textField\",\n        fullWidth: true,\n        label: \"Kirjoita kommentti\",\n        placeholder: \"Kirjoita kommentti\",\n        multiline: true,\n        value: this.state.text,\n        onChange: this.handleChange,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        value: \"l\\xE4het\\xE4\",\n        variant: \"outlined\",\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"L\\xE4het\\xE4\"), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"inherit\",\n        value: \"Peruuta\",\n        variant: \"outlined\",\n        className: classes.buttonCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Peruuta\")))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.message)));\n    }\n  }]);\n\n  return NewComment;\n}(Component);\n\nNewComment.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(NewComment);","map":{"version":3,"sources":["/home/joonas/LUT/programming/CodeCamp/TeamJJ/src/components/newcomment.jsx"],"names":["React","Component","axios","TextField","PropTypes","withStyles","Button","Link","styles","theme","button","margin","color","buttonCancel","a","NewComment","props","handleChange","e","setState","text","target","value","handleSubmit","preventDefault","state","length","message","updateFunction","data","courseId","post","then","response","multiline","classes","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport TextField from \"@material-ui/core/TextField\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport \"../App.css\";\nimport { Link } from \"react-router-dom\";\n\nconst styles = theme => ({\n  button: {\n    margin: 2,\n    color: \"#2196f3\"\n  },\n  buttonCancel: {\n    margin: 2,\n    color: \"inherit\"\n  },\n  a: {\n    color: \"inherit\"\n  }\n});\n\nclass NewComment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      message: null,\n      multiline: \"Controlled\"\n    };\n  }\n\n  //update state with the current comment text\n  handleChange = e => {\n    this.setState({ text: e.target.value });\n  };\n\n  handleSubmit = e => {\n    //prevent the page from reloading\n    e.preventDefault();\n\n    //check that the comment has some text and then send it to the server.\n    if (this.state.text === null || this.state.text.length < 5) {\n      this.setState({\n        message: \"Kommenttisi on liian lyhyt.\"\n      });\n      this.props.updateFunction();\n    } else {\n      //construct a json object which will be sent to the server\n      let data = {\n        text: this.state.text,\n        courseId: this.props.courseId\n      };\n      axios\n        .post(\"/api/comments/\" + this.props.courseId, data)\n        .then(response => {\n          this.setState({\n            message: \"Kommentti tallennettu.\",\n            text: \"\"\n          });\n        });\n      this.props.updateFunction();\n    }\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <div className=\"my-form\">\n          <form onSubmit={this.handleSubmit}>\n            <TextField\n              className=\"textField\"\n              fullWidth\n              label=\"Kirjoita kommentti\"\n              placeholder=\"Kirjoita kommentti\"\n              multiline\n              value={this.state.text}\n              onChange={this.handleChange}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n            <div>\n              <Button\n                type=\"submit\"\n                value=\"lähetä\"\n                variant=\"outlined\"\n                className={classes.button}\n              >\n                Lähetä\n              </Button>\n              <Link to=\"/\">\n                <Button\n                  color=\"inherit\"\n                  value=\"Peruuta\"\n                  variant=\"outlined\"\n                  className={classes.buttonCancel}\n                >\n                Peruuta\n                </Button>\n              </Link>\n            </div>\n          </form>\n          <p>{this.state.message}</p>\n        </div>\n      </div>\n    );\n  }\n}\nNewComment.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(NewComment);\n"]},"metadata":{},"sourceType":"module"}